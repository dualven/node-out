var gulp = require('gulp');

// Loads Project Configuration Variables

var config = require('./src/tasks/config.json');

// Loads All Gulp Plugins Automatically

var plugins = require('gulp-load-plugins')({
  pattern: ['*'] 
});

// BrowserSync Reload
require(config.taskPath + '/reload')(gulp, plugins);

// File Cleanup CSS
require(config.taskPath + '/cleanCss')(gulp, plugins, config);

// File Cleanup JS
require(config.taskPath + '/cleanJs')(gulp, plugins, config);

 // SCSS Compilation
require(config.taskPath + '/csscompile')(gulp, plugins, config);

 // JS Bundling
require(config.taskPath + '/browserify')(gulp, plugins, config);

// Image Minifications
require(config.taskPath + '/imagemin')(gulp, plugins, config);

// Cachebust CSS
require(config.taskPath + '/cachebust')(gulp, plugins);

// Sourcemap Reference
require(config.taskPath + '/mapReference')(gulp, plugins);

// Basic Server
require(config.taskPath + '/browserSync')(gulp, plugins);

// CSS Build
require(config.taskPath + '/cssBuild')(gulp, plugins);

// HTML Build
require(config.taskPath + '/htmlBuild')(gulp, plugins);

// JavaScript Build
require(config.taskPath + '/jsBuild')(gulp, plugins);

// Move Files
require(config.taskPath + '/moveFiles')(gulp, plugins);

// Watch For Changes
require(config.taskPath + '/watch')(gulp, plugins, config);

// Default Task Triggers Watch
gulp.task('default', function() {
    gulp.start('browser-sync', 'watch');
});