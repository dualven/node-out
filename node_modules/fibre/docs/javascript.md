# JavaScript in fibre
By default fibre uses a modular approach to JavaScript using [Browserify](http://browserify.org/).

## Build Process
All JavaScript modules are compiled using [Browserify](http://browserify.org/) into a single, minified file `main.js` at build time. Any external libraries that you don't plan on bundling this way should be placed into the libs folder, which will be moved to you final project folder as part of the build. This should really only be done with libraries that need to be loaded before the page renders (like Modernizr). Everything else should be bundled, [including Non-CommonJS code](#shimming-non-commonjs-code).

## Modular JavaScript Basics
The [Browserify Documentation](http://browserify.org/articles.html) provides articles and examples for using `require` and `modules` in your JavaScript.

### Defining And Using A Module
Defining a new module with Browserify is as simple as:

In foo.js:
`module.exports = // something here`

In main.js:
`var foo = require('foo');`

There is a basic example of a module in `plugin.js` to get you started.

### Shimming Non-CommonJS Code
Some libraries are not compatible with CommonJS/Browserify and will need to shimmed. fibre handles most of this setup for you. You will just need to provide a specific config for your particular library:

```json
{
  "browserify-shim": {
    "./js/libs/jquery.js": "global: $",
    }
}
```

The above includes `./js/vendor/jquery.js` (relative to the package.json) in the bundle and exports `window.$` as `$`. This will allow you to `var $ = require('$');`

## Source Maps
fibre includes support for browers that support JavaScript Source Maps. You can read more about how to enable this functionality in [Chrome](https://developer.chrome.com/devtools/docs/javascript-debugging#source-maps), [Firefox](https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Use_a_source_map), and [IE11](https://msdn.microsoft.com/en-US/library/ie/dn255007(v=vs.85)#source_maps). Safari supports source maps for SCSS out of the box.